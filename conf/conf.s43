;----------------------------------------------------------------------------------------------
#include "msp430g2553.h"
#include "../util/constants.h"
;----------------------------------------------------------------------------------------------
        NAME   CONF
        PUBLIC CONF_SERIAL_MSP430G2553
        RSEG   CODE           
;----------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------
CONF_SERIAL_MSP430G2553 ; INVOCA AS ROTINAS DE CONFIGURA플O DA COMUNICA플O UART DO mCU
;----------------------------------------------------------------------------------------------
        call        #CONF_CLOCK_DEFAULT
        call        #CONF_PORT_SEL
        call        #CONFIG_UART
        ret
;----------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------
CONF_CLOCK_DEFAULT ; VALOR DEFAULT DE CONFIGURA플O DE CLOCK
;----------------------------------------------------------------------------------------------
        mov.b       #00087h,&BCSCTL1
        mov.b       #00076h,&DCOCTL
        ret
;----------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------
CONF_PORT_SEL
;----------------------------------------------------------------------------------------------
        bis.b       #BIT1+BIT2,&P1SEL
        bis.b       #BIT1+BIT2,&P1SEL2
        ret 
;----------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------
CONFIG_UART
;----------------------------------------------------------------------------------------------
        mov.b       #00081h,&UCA0CTL1
        mov.b       #00068h,&UCA0BR0
        mov.b       #0h,&UCA0BR1
        mov.b       #00002h,&UCA0MCTL
        bic.b       #UCSWRST,&UCA0CTL1 ;RESET PARA INICIALIZA플O
        ret  
;----------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------
        END  
;----------------------------------------------------------------------------------------------